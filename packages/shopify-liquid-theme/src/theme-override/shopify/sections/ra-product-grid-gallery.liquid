<div
  class="p-4 columns-2 md:columns-3 lg:columns-4">
  {% for block in section.blocks %}
    {% if block.type == 'product_grid_gallery' %}
      <div
        class="relative mb-4 before:content-[''] before:rounded-md before:absolute before:inset-0 before:bg-black before:bg-opacity-20">
        <img
          src="{{ block.settings.images | img_url: 'medium' }}"
          alt=""
          class="w-full rounded-md"
          data-featured-image
          width="1"
          height="1.2"
          loading="lazy" />

        <div
          class="absolute inset-0 p-8 text-white flex flex-col">
          <div
            class="relative">
            <a
              class="absolute inset-0"
              target="_blank"
              href="{{ block.settings.product_link }}"></a>

            <h3
              class="text-3xl mb-3">{{ block.settings.title }}</h3>
            <p
              class="font-sm font-light">{{ block.settings.short_description }}</p>
          </div>
          <div class="mt-auto">
            <!-- <span class="test__tag bg-white opacity-60 py-1 px-4 rounded-md text-black">#tag</span> -->
            <span
              class="test__tag bg-white opacity-60 py-1 px-4 rounded-md text-black"
              style="{{ block.settings.price_color }}">{{ block.settings.product_price | money_without_trailing_zeros }}</span>
          </div>
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>


{% schema %}
  {
    "name": "Products Grid Gallery",
    "settings": [],
    "blocks": [
      {
        "type": "product_grid_gallery",
        "name": "Item Grid Gallery",
        "settings": [
          {
            "type": "image_picker",
            "label": "Images",
            "id": "images",
            "info": "Select images for the Grid gallery."
          },
          {
            "type": "url",
            "label": "Product Link",
            "id": "product_link",
            "info": "Enter the URL for the Product."
          },
          {
            "type": "text",
            "label": "Title",
            "id": "title",
            "info": "Enter the title text."
          },
          {
            "type": "text",
            "label": "Short Description",
            "id": "short_description",
            "info": "Enter the Short Description."
          }, {
            "type": "text",
            "label": "Product Price",
            "id": "product_price",
            "info": "Enter the Product Price."
          }, {
            "type": "select",
            "label": "Price Color",
            "id": "price_color",
            "default": "color: #000000;",
            "options": [
              {
                "value": "color: #000000;",
                "label": "Black"
              }, {
                "value": "color: #ff0000;",
                "label": "Red"
              }
            ]
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Product Grid Gallery"
      }
    ]
  }
{% endschema %}
