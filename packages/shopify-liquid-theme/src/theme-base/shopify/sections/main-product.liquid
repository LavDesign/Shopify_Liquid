{%- capture product_data -%}
  {%- render 'json-product', product: product -%}
{%- endcapture -%}
<div id="ra-main-product" class="ra-main-product" data-section-id="{{ section.id }}">
  <div class="wrapper mt-4">
    <div class="w-full md:max-width--large mt-40 px-4 md:px-10">
      {% render 'breadcrumbs', classes: 'my-10 hidden md:block' %}
      <div class="flex product pt-3 flex-col md:flex-row">
        <div class="md:w-1/2 pl-0">
          {% render 'product-media-gallery', product: product %}
        </div>
        <div class="md:w-1/2 md:pl-20">
          <div class="sticky top-12">
            {% render 'ra-product-main', product_data: product_data %}
            <div class="product__blocks">
              {%- for block in section.blocks -%}
                {%- case block.type -%}
                  {%- when '@app' -%}
                    {% render block %}
                  {%- when 'accordion_item' -%}
                    {% render 'accordion-item', title: block.settings.title, content: block.settings.content, show_icon: true %}
                  {%- when 'special_messaging' -%}
                    <div class="flex justify-center gap-1 items-center my-4">
                      <div>{% render 'icon' with block.settings.icon %}</div>
                      <div>{{ block.settings.content }}</div>
                    </div>
                {%- endcase -%}
              {%- endfor -%}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% schema %}
  {
    "name": "t:sections.main-product.name",
    "tag": "section",
    "class": "section",
    "blocks": [
      {
        "type": "@app"
      },
      {
        "type": "accordion_item",
        "name": "Accordion Item",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "default": "Accordion Title",
            "label": "Accordion Title"
          },
          {
            "type": "richtext",
            "id": "content",
            "default": "<p>Accordion Content</p>",
            "label": "Accordion Content"
          }
        ]
      },
      {
        "type": "special_messaging",
        "name": "Special Messaging",
        "settings": [
          {
            "type": "richtext",
            "id": "content",
            "default": "<p>Special messaging.</p>",
            "label": "Content"
          },
          {
            "type": "select",
            "id": "icon",
            "label": "Icon",
            "options": <%- uikit.icons -%>
          }
        ]
      }
    ],
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_sticky_info",
        "default": true,
        "label": "t:sections.main-product.settings.enable_sticky_info.label"
      },
      {
        "type": "header",
        "content": "t:sections.main-product.settings.header.content",
        "info": "t:sections.main-product.settings.header.info"
      },
      {
        "type": "select",
        "id": "media_size",
        "options": [
          {
            "value": "small",
            "label": "t:sections.main-product.settings.media_size.options__1.label"
          }, {
            "value": "medium",
            "label": "t:sections.main-product.settings.media_size.options__2.label"
          }, {
            "value": "large",
            "label": "t:sections.main-product.settings.media_size.options__3.label"
          }
        ],
        "default": "large",
        "label": "t:sections.main-product.settings.media_size.label",
        "info": "t:sections.main-product.settings.media_size.info"
      },
      {
        "type": "checkbox",
        "id": "constrain_to_viewport",
        "default": false,
        "label": "t:sections.main-product.settings.constrain_to_viewport.label"
      }, {
        "type": "select",
        "id": "media_fit",
        "options": [
          {
            "value": "contain",
            "label": "t:sections.main-product.settings.media_fit.options__1.label"
          }, {
            "value": "cover",
            "label": "t:sections.main-product.settings.media_fit.options__2.label"
          }
        ],
        "default": "contain",
        "label": "t:sections.main-product.settings.media_fit.label"
      }, {
        "type": "select",
        "id": "gallery_layout",
        "options": [
          {
            "value": "stacked",
            "label": "t:sections.main-product.settings.gallery_layout.options__1.label"
          }, {
            "value": "columns",
            "label": "t:sections.main-product.settings.gallery_layout.options__2.label"
          }, {
            "value": "thumbnail",
            "label": "t:sections.main-product.settings.gallery_layout.options__3.label"
          }, {
            "value": "thumbnail_slider",
            "label": "t:sections.main-product.settings.gallery_layout.options__4.label"
          }
        ],
        "default": "stacked",
        "label": "t:sections.main-product.settings.gallery_layout.label"
      }, {
        "type": "select",
        "id": "media_position",
        "options": [
          {
            "value": "left",
            "label": "t:sections.main-product.settings.media_position.options__1.label"
          }, {
            "value": "right",
            "label": "t:sections.main-product.settings.media_position.options__2.label"
          }
        ],
        "default": "left",
        "label": "t:sections.main-product.settings.media_position.label",
        "info": "t:sections.main-product.settings.media_position.info"
      }, {
        "type": "select",
        "id": "image_zoom",
        "options": [
          {
            "value": "lightbox",
            "label": "t:sections.main-product.settings.image_zoom.options__1.label"
          }, {
            "value": "hover",
            "label": "t:sections.main-product.settings.image_zoom.options__2.label"
          }, {
            "value": "none",
            "label": "t:sections.main-product.settings.image_zoom.options__3.label"
          }
        ],
        "default": "lightbox",
        "label": "t:sections.main-product.settings.image_zoom.label",
        "info": "t:sections.main-product.settings.image_zoom.info"
      }, {
        "type": "select",
        "id": "mobile_thumbnails",
        "options": [
          {
            "value": "columns",
            "label": "t:sections.main-product.settings.mobile_thumbnails.options__1.label"
          }, {
            "value": "show",
            "label": "t:sections.main-product.settings.mobile_thumbnails.options__2.label"
          }, {
            "value": "hide",
            "label": "t:sections.main-product.settings.mobile_thumbnails.options__3.label"
          }
        ],
        "default": "hide",
        "label": "t:sections.main-product.settings.mobile_thumbnails.label"
      }, {
        "type": "checkbox",
        "id": "hide_variants",
        "default": false,
        "label": "t:sections.main-product.settings.hide_variants.label"
      }, {
        "type": "checkbox",
        "id": "enable_video_looping",
        "default": false,
        "label": "t:sections.main-product.settings.enable_video_looping.label"
      }
    ]
  }
{% endschema %}
