{% comment %}theme-check-disable ImgLazyLoading{% endcomment %}
{%- if predictive_search.performed -%}
  <div id="predictive-search-results" class="absolute bg-white left-0 right-0 top-full p-10">
    {% comment %}
      {%- if predictive_search.resources.products.size > 0 -%}
      {%- endif -%}
    {% endcomment %}
    {% if settings.predictive_show_collections %}
      <ul>
        {%- for collection in predictive_search.resources.collections -%}
          <li id="predictive-search-option-{{ forloop.index }}" class="predictive-search__list-item list-none" role="option" aria-selected="false">
            <a href="{{ collection.url }}">{{ collection.title }}</a>
          </li>
        {%- endfor -%}
      </ul>
    {% endif %}
    {% if settings.predictive_show_pages %}
      <ul>
        {%- for page in predictive_search.resources.pages -%}
          <li id="predictive-search-option-{{ forloop.index }}" class="predictive-search__list-item list-none" role="option" aria-selected="false">
            <a href="{{ page.url }}">{{ page.title }}</a>
          </li>
        {%- endfor -%}
      </ul>
    {% endif %}
    {% if settings.predictive_show_articles %}
      <ul>
        {%- for article in predictive_search.resources.articles -%}
          <li id="predictive-search-option-{{ forloop.index }}" class="predictive-search__list-item list-none" role="option" aria-selected="false">
            <a href="{{ article.url }}">{{ article.title }}</a>
          </li>
        {%- endfor -%}
      </ul>
    {% endif %}
    {% if settings.predictive_show_terms %}
      <ul>
        {%- for article in predictive_search.resources.articles -%}
          <li id="predictive-search-option-{{ forloop.index }}" class="predictive-search__list-item list-none" role="option" aria-selected="false">
            <a href="{{ article.url }}">{{ article.title }}</a>
          </li>
        {%- endfor -%}
      </ul>
    {% endif %}
    {%- if predictive_search.resources.products.size > 0 -%}
      <ul id="predictive-search-results-list" class="grid grid-cols-4 gap-11">
        {%- for product in predictive_search.resources.products -%}
          <li id="predictive-search-option-{{ forloop.index }}" class="predictive-search__list-item list-none" role="option" aria-selected="false">
            {% render "ra-product-tile", product: product %}
          </li>
        {%- endfor -%}
      </ul>
    {% else %}
      <div class="flex justify-center mb-5">
        <p class="h6">{{ 'templates.search.no_results' | t: terms: predictive_search.terms }}</p>
      </div>
    {% endif %}
    <div class="search-results__actions flex justify-center">
      {% assign search_url = routes.search_url | append: "?q=" | append: predictive_search.terms %}
      {% render "button", label: "See All Results", style: "primary", type: "a", url: search_url %}
    </div>
  </div>
{%- endif -%}
