{% liquid
  assign titleAs = section.settings.title_as
  assign titleLevel = section.settings.title_level

  assign ctaOneText = section.settings.cta_one_text
  assign ctaOneUrl = section.settings.cta_one_url
  assign ctaOneStyle = section.settings.cta_one_style

  assign ctaTwoText = section.settings.cta_two_text
  assign ctaTwoUrl = section.settings.cta_two_url
  assign ctaTwoStyle = section.settings.cta_two_style

  assign detailsLocation = section.settings.details_location
  assign detailsLocationMD = section.settings.details_location_md

  assign verticalAlign = section.settings.vertical_align
  assign verticalAlignMD = section.settings.vertical_align_md

  assign horizontalAlign = section.settings.horizontal_align
  assign horizontalAlignMD = section.settings.horizontal_align_md

  assign aspectRatio = section.settings.aspect_ratio
  assign imageHeight = section.settings.image_height
  assign imageWidth = section.settings.image_width

  assign bgColor = section.settings.bg_color
  assign bgColorMD = section.settings.bg_color_md

  assign fgColor = section.settings.fg_color
  assign fgColorMD = section.settings.fg_color_md

  assign sectionSplit = section.settings.section_split
%}

{% capture verticalClasses %}
  set--v-align-{{ verticalAlign }}-sm set--v-align-{{ verticalAlignMD }}-md
{% endcapture %}

{% capture horizontalClasses %}
  set--h-align-{{ horizontalAlign }}-sm set--h-align-{{ horizontalAlignMD }}-md
{% endcapture %}

{% capture classes %}
  ra-split-section set--details-{{ detailsLocation }}-sm
  set--details-{{ detailsLocationMD }}-md
  {% if section_img != blank %}
    set--aspect-ratio-{{ aspectRatio }}
  {% endif %}
{% endcapture %}

{% capture aspectRatioStyle %}
  {% if aspectRatio == 'square' %}
    --media-width:1; --media-height:0.85;
  {% elsif aspectRatio == 'tall' %}
    --media-width:1; --media-height:1;
  {% elsif aspectRatio == 'wide' %}
    --media-width:1; --media-height:0.625;
  {% endif %}
{% endcapture %}

{% capture widthHeightValues %}
  {% if aspectRatio == 'square' %}
    width="1" height="0.85"
  {% elsif aspectRatio == 'tall' %}
    width="1" height="1"
  {% elsif aspectRatio == 'wide' %}
    width="1" height="0.625"
  {% endif %}
{% endcapture %}

{% capture leftSplit %}
  {% if sectionSplit == '1' %}
    --col-size-md:50%
  {% elsif sectionSplit == '2' %}
    --col-size-md:60%
  {% else %}
    --col-size-md:40%
  {% endif %}
{% endcapture %}

{% capture rightSplit %}
  {% if sectionSplit == '1' %}
    --col-size-md:50%
  {% elsif sectionSplit == '2' %}
    --col-size-md:40%
  {% else %}
    --col-size-md:60%
  {% endif %}
{% endcapture %}

{% capture bgStyles %}
  {% if bgColor != 'rgba(0,0,0,0)' %}
    --component-bg-color: {{ bgColor }}{% if bgColorMD != 'rgba(0,0,0,0)' %}; --component-bg-color-md: {{ bgColorMD }}{% endif %}
  {% endif %}
{% endcapture %}

{% capture colorStyles %}
  {% if fgColor != 'rgba(0,0,0,0)' %}
    --component-fg-color: {{ fgColor }}{% if fgColorMD != 'rgba(0,0,0,0)' %}; --component-fg-color-md: {{ fgColorMD }}{% endif %}
  {% endif %}
{% endcapture %}

<div class="max-w-screen-2xl mx-auto">
  <article class="{{ classes }}" {% if bgStyles or colorStyles %}style="{{- bgStyles -}};{{- colorStyles -}}"{% endif %}>
    <div class="ra-split-section__layout-container component-layout ra-row ra-no-gap !items-stretch">
      <div data-col-size="-size" data-col-auto="-md" class="component-media ra-col" style="--col-size:100%; {{ leftSplit }}">
        {% if section.settings.image != blank %}
          <div class="ra-split-section__media">
            <div class="ra-image ra-split-section__image ra-image--use-aspect-ratio" style="{{ aspectRatioStyle }}">
              <img
                loading="lazy"
                src="{{ section.settings.image | img_url: '700x' }}"
                alt="{{ section.settings.image.alt | default: 'split-image' }}"
                {% if widthHeightValues %}{{ widthHeightValues }}{% endif %}
                class="ra-image__media"
              />
            </div>
          </div>
        {% endif %}
      </div>
      <div data-col-size="-size,-md" class="component-details ra-split-section__details ra-col" style="--col-size:100%; {{ rightSplit }}">
        <div class="ra-split-section__copy {{ verticalClasses }} {{ horizontalClasses }}">
          {% if section.settings.subtitle != blank %}
            <div class="ra-split-section__subtitle">
              {{- section.settings.subtitle -}}
            </div>
          {% endif %}
          {% if section.settings.title != blank %}
            <{{ titleLevel }} class="ra-title ra-split-section__title" style="--title-font-size:var(--font-size-{{ titleAs }});">
              <div>{{- section.settings.title -}}</div>
            </{{ titleLevel }}>
          {% endif %}
          {% if section.settings.description != blank %}
            <div class="ra-split-section__description {{ section.settings.description_copy_size }}">
              {{- section.settings.description -}}
            </div>
          {% endif %}
          <div class="ra-link-list ra-split-section__link-list">
            {% if ctaOneText != blank and ctaOneUrl != blank %}
              {% render 'button'
              , type: 'a',
              style: ctaOneStyle,
              url: ctaOneUrl,
              label: ctaOneText,
              class: 'ra-link-list' %}
            {% endif %}
            {% if ctaTwoText != blank and ctaTwoUrl != blank %}
              {% render 'button'
              , type: 'a',
              style: ctaTwoStyle,
              url: ctaTwoUrl,
              label: ctaTwoText,
              class: 'ra-link-list' %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </article>
</div>

{%- schema -%}
  {
    "name": "Split Section",
    "settings": [
      {
        "type": "header",
        "content": "Section Content"
      },
      {
        "type": "text",
        "id": "subtitle",
        "label": "Section Sub-Title"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Section Title"
      },
      {
        "type": "richtext",
        "id": "description",
        "label": "Section Description"
      },
      {
        "type": "select",
        "id": "description_copy_size",
        "label": "Description body copy size",
        "options": [
          {
            "value": "text-xs",
            "label": "Tiny"
          },
          {
            "value": "text-sm",
            "label": "Small"
          },
          {
            "value": "text-base",
            "label": "Base"
          },
          {
            "value": "text-lg",
            "label": "Large"
          }
        ],
        "default": "text-lg"
      },
      {
        "type": "select",
        "id": "title_as",
        "label": "Title As",
        "info": "Choose which heading to (style) the title",
        "options": [
          {
            "value": "h1",
            "label": "H1"
          },
          {
            "value": "h2",
            "label": "H2"
          },
          {
            "value": "h3",
            "label": "H3"
          },
          {
            "value": "h4",
            "label": "H4"
          }, {
            "value": "h5",
            "label": "H5"
          }, {
            "value": "h6",
            "label": "H6"
          }
        ],
        "default": "h4"
      },
      {
        "type": "select",
        "id": "title_level",
        "label": "Title Level",
        "info": "Choose the semantic H-Tag for this title",
        "options": [
          {
            "value": "h1",
            "label": "H1"
          },
          {
            "value": "h2",
            "label": "H2"
          },
          {
            "value": "h3",
            "label": "H3"
          },
          {
            "value": "h4",
            "label": "H4"
          }, {
            "value": "h5",
            "label": "H5"
          }, {
            "value": "h6",
            "label": "H6"
          }
        ],
        "default": "h1"
      },
      {
        "type": "header",
        "content": "Section Media"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "select",
        "id": "aspect_ratio",
        "label": "Aspect Ratio",
        "info": "Choose aspect ratio for section media image",
        "options": [
          {
            "value": "square",
            "label": "Square"
          },
          {
            "value": "tall",
            "label": "Tall"
          },
          {
            "value": "wide",
            "label": "Wide"
          },
          {
            "value": "respect-media",
            "label": "Respect Media"
          },
          {
            "value": "fill-space",
            "label": "Fill Space"
          }
        ]
      },
      {
        "type": "header",
        "content": "Layout and Alignment"
      },
      {
        "type": "select",
        "id": "section_split",
        "label": "Section Split",
        "info": "Choose between 50/50 60/40 & 40/60 split (desktop only)",
        "options": [
          {
            "value": "1",
            "label": "50/50"
          },
          {
            "value": "2",
            "label": "60/40"
          },
          {
            "value": "3",
            "label": "40/60"
          }
        ],
        "default": "1"
      },
      {
        "type": "select",
        "id": "details_location",
        "label": "Mobile Layout",
        "info": "Choose layout for mobile devices",
        "options": [
          {
            "value": "before",
            "label": "Imagery right, Text left"
          },
          {
            "value": "after",
            "label": "Imagery left, Text-right"
          },
          {
            "value": "overlay",
            "label": "Overlay"
          }
        ],
        "default": "after"
      },
      {
        "type": "select",
        "id": "details_location_md",
        "label": "Desktop Layout",
        "info": "Choose layout for desktop",
        "options": [
          {
            "value": "before",
            "label": "Imagery right, Text left"
          },
          {
            "value": "after",
            "label": "Imagery left, Text-right"
          },
          {
            "value": "overlay",
            "label": "Overlay"
          }
        ],
        "default": "after"
      },
      {
        "type": "select",
        "id": "horizontal_align",
        "label": "Mobile Horizontal Alignment",
        "info": "Set horizontal alignment for content on mobile devices",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ]
      },
      {
        "type": "select",
        "id": "horizontal_align_md",
        "label": "Desktop Horizontal Alignment",
        "info": "Set horizontal alignment for content on desktop",
        "options": [
          {
            "value": "left",
            "label": "Left"
          },
          {
            "value": "center",
            "label": "Center"
          },
          {
            "value": "right",
            "label": "Right"
          }
        ]
      },
      {
        "type": "select",
        "id": "vertical_align",
        "label": "Mobile Vertical Alignment",
        "info": "Set vertical alignment for content on mobile devices IF overlay layout is selected",
        "options": [
          {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "middle",
            "label": "Middle"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ]
      },
      {
        "type": "select",
        "id": "vertical_align_md",
        "label": "Desktop Vertical Alignment",
        "info": "Set vertical alignment for content on desktop",
        "options": [
          {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "middle",
            "label": "Middle"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ]
      },
      {
        "type": "header",
        "content": "CTA's"
      },
      {
        "type": "text",
        "id": "cta_one_text",
        "label": "CTA 1 Text",
        "default": "Default"
      }, {
        "type": "url",
        "id": "cta_one_url",
        "label": "CTA 1 Url"
      },
      {
        "type": "select",
        "id": "cta_one_style",
        "label": "CTA One Style",
        "options": [
          {
            "value": "primary",
            "label": "Primary"
          }, {
            "value": "secondary",
            "label": "Secondary"
          }, {
            "value": "tertiary",
            "label": "Tertiary"
          }
        ],
        "default": "primary"
      },
      {
        "type": "header",
        "content": "CTA Two"
      },
      {
        "type": "text",
        "id": "cta_two_text",
        "label": "CTA 2 Text",
        "default": "Secondary"
      },
      {
        "type": "url",
        "id": "cta_two_url",
        "label": "CTA 2 Url"
      },
      {
        "type": "select",
        "id": "cta_two_style",
        "label": "CTA Two Style",
        "options": [
          {
            "value": "primary",
            "label": "Primary"
          }, {
            "value": "secondary",
            "label": "Secondary"
          }, {
            "value": "tertiary",
            "label": "Tertiary"
          }
        ],
        "default": "secondary"
      },
      {
        "type": "header",
        "content": "Section Styles"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Mobile Background Color"
      },
      {
        "type": "color",
        "id": "bg_color_md",
        "label": "Desktop Background Color",
        "info": "Set background color for larger screen sizes (if different from mobile)"
      },
      {
        "type": "color",
        "id": "fg_color",
        "label": "Mobile Text Color"
      },
      {
        "type": "color",
        "id": "fg_color_md",
        "label": "Desktop Text Color",
        "info": "Set text color for larger screen sizes (if different from mobile)"
      }
    ],
    "presets": [
      {
        "name": "Split Section"
      }
    ]
  }
{%- endschema -%}
