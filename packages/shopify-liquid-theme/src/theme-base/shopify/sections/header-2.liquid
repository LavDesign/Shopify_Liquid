<style>
  #shopify-section-{{ section.id }} {
    --background-color: var({{ section.settings.bg_color }});
    --link-color: var({{ section.settings.link_color }});
    --link-hover-color: var({{ section.settings.link_hover_color }});
    --logo-width-desktop: {{ section.settings.logo_size_desktop | append: "px" }};
    --logo-width-mobile: {{ section.settings.logo_size_mobile | append: "px" }};
  }
</style>

<ra-header class="header">
  <div class="header__wrapper container">

    {%- comment -%}
      Hamberger
    {%- endcomment -%}
    <a id="header__hamberger" class="header__hamberger" href="#" title="toggle menu" aria-label="toggle menu">
      {% render 'icon' icon: 'hamberger', width: '24px', height: '24px' class: 'hamberger-icon' %}
      {% render 'icon' icon: 'close', width: '18px', height: '18px' class: 'close-icon' %}
    </a>

    {%- comment -%}
      Logo
    {%- endcomment -%}
    {% if section.settings.logo != blank %}
      <div class="header__logo">
        <img class="header__logo-image" src="{{ section.settings.logo | img_url: "500x" }}" alt="{{ shop.name }}">
      </div>
    {% endif %}

    {%- comment -%}
      Navigation menu - desktop
    {%- endcomment -%}
    {% if section.settings.menu != blank %}
      <nav class="header__navigation">
        <ul class="header__navigation-list" role="list" tabindex="-1">
          {%- for link in section.settings.menu.links -%}
            {% render 'desktop-navigation-menu' 
              link: link, 
              featured_contents: section.blocks,
              aspect_ratio: section.settings.aspect_ratio
            %}
          {%- endfor -%}
        </ul>
      </nav>

      {%- comment -%}
        Navigation menu - mobile
      {%- endcomment -%}
      <nav class="header__mobile-navigation">
        <ul class="header__mobile-navigation-list" role="list" tabindex="-1">
          {%- for link in section.settings.menu.links -%}
            {% render 'mobile-navigation-menu' 
              link: link, 
              featured_contents: section.blocks,
              aspect_ratio: section.settings.aspect_ratio
            %}
          {%- endfor -%}
        </ul>
      </nav>
    {% endif %}

    {%- comment -%}
      Action (cart, account, search, wishlist)
    {%- endcomment -%}
    <div class="header__action">
      <ul class="header__action-list">
        {% if section.settings.show_search %}
          <li class="header__action-item header__action-item--search">
            <a class="header__action-link" href="#" title="search" aria-label="search">
              {% render 'icon' icon: section.settings.search_icon, width: '20px', height: '20px' %}
            </a>
          </li>
        {% endif %}
        {% if section.settings.show_account %}
          <li class="header__action-item header__action-item--account">
            <a class="header__action-link" href="#" title="account" aria-label="account">
              {% render 'icon' icon: section.settings.account_icon, width: '20px', height: '20px' %}
            </a>
          </li>
        {% endif %}
        {% if section.settings.show_wishlist %}
          <li class="header__action-item header__action-item--wishlist">
            <a class="header__action-link" href="#" title="wishlist" aria-label="wishlist">
              {% render 'icon' icon: section.settings.wishlist_icon, width: '20px', height: '20px' %}
            </a>
          </li>
        {% endif %}
        <li class="header__action-item header__action-item--cart">
          <a class="header__action-link" href="#" title="cart" aria-label="cart">
            {% render 'icon' icon: 'cart', width: '24px', height: '24px' %}
          </a>
        </li>
      </ul>
    </div>
  </div>
</ra-header>

{% schema %}
{
  "name": "Header",
  "max_blocks": 5,
  "settings": [
    {
      "type": "header",
      "content": "colors"
    },
    {
			"type": "select",
			"id": "bg_color",
			"label": "Background color",
			"options": <%- uikit.colorsAll -%>,
			"default": "--color-primary-900"
    },
    {
			"type": "select",
			"id": "link_color",
			"label": "Link color (default)",
			"options": <%- uikit.colorsAll -%>,
			"default": "--color-util-white"
    },
    {
			"type": "select",
			"id": "link_hover_color",
			"label": "Link color (hover)",
			"options": <%- uikit.colorsAll -%>,
			"default": "--color-util-yellow"
    },
    {
      "type": "header",
      "content": "logo"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image",
      "info": "Recommended Size: 500px wide"
    },
    {
      "type": "range",
      "id": "logo_size_desktop",
      "min": 80,
      "max": 250,
      "step": 10,
      "unit": "px",
      "label": "Logo size (desktop)",
      "default": 140
    },
    {
      "type": "range",
      "id": "logo_size_mobile",
      "min": 80,
      "max": 250,
      "step": 10,
      "unit": "px",
      "label": "Logo size (mobile)",
      "default": 100
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "Menu"
    },
    {
      "type": "header",
      "content": "featured content"
    },
    {
      "type": "select",
      "id": "aspect_ratio",
      "options": [
        {
          "value": "portrait",
          "label": "Portrait"
        },
        {
          "value": "square",
          "label": "Square"
        }
      ],
      "default": "portrait",
      "label": "Aspect ratio",
      "info": "Adjust aspect ratio for Featured Content images"
    },
    {
      "type": "header",
      "content": "search"
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "default": true,
      "label": "Hide/show search"
    },
    {
			"type": "select",
			"id": "search_icon",
			"label": "Search icon",
			"options": <%- uikit.icons -%>,
			"default": "search"
    },
    {
      "type": "header",
      "content": "account"
    },
    {
      "type": "checkbox",
      "id": "show_account",
      "default": true,
      "label": "Hide/show account"
    },
    {
			"type": "select",
			"id": "account_icon",
			"label": "Account icon",
			"options": <%- uikit.icons -%>,
			"default": "account"
    },
    {
      "type": "header",
      "content": "wishlist"
    },
    {
      "type": "checkbox",
      "id": "show_wishlist",
      "default": true,
      "label": "Hide/show wishlist"
    },
    {
			"type": "select",
			"id": "wishlist_icon",
			"label": "Wishlist icon",
			"options": <%- uikit.icons -%>,
			"default": "heart"
    }
  ],
  "blocks": [
    {
      "type": "featured_content",
      "name": "Featured Content",
      "settings": [
        {
          "type": "text",
          "id": "menu_item",
          "label": "Menu item",
          "info": "Enter menu item to apply a Featured Content",
          "default": "catalog"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "Recommended Size: 800x900"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Featured product"
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "Link label",
          "default": "Learn more"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        },
        {
          "type": "select",
          "id": "link_style",
          "label": "Link style",
          "options": <%- uikit.buttonStyles -%>,
          "default": "primary"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Header",
      "blocks": [
        {
          "type": "featured_content",
          "settings": {
            "image": "shopify:\/\/shop_images\/kurt-cotoaga-cqbLg3lZEpk-unsplash_1.png",
            "link_label": "Learn more",
            "link_url": "shopify:\/\/collections"
          }
        },
        {
          "type": "featured_content",
          "settings": {
            "image": "shopify:\/\/shop_images\/kurt-cotoaga-cqbLg3lZEpk-unsplash_1.png",
            "link_label": "Learn more",
            "link_url": "shopify:\/\/collections"
          }
        },
        {
          "type": "featured_content",
          "settings": {
            "image": "shopify:\/\/shop_images\/kurt-cotoaga-cqbLg3lZEpk-unsplash_1.png",
            "link_label": "Learn more",
            "link_url": "shopify:\/\/collections"
          }
        }
      ]
    }
  ]
}
{% endschema %}