<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    {%- render 'head-meta' -%}

    {%- comment -%}
      GTM-Datalayer
    {%- endcomment -%}
    {% render 'gtm-datalayer', action_step: 'init' %}

    <script src="{{ 'global.js' | asset_url }}" defer="defer"></script>

    {% render 'vendor-scripts' %}

    {%- comment -%}
      Palomino & Bedrock UI
    {%- endcomment -%}
    <link rel="stylesheet" href="https://use.typekit.net/uuq0jfz.css">
    {{ 'main.css' | asset_url | stylesheet_tag }}
    {%- render 'css-variables' -%}
    {%- render 'icon-store' -%}
    {%- comment -%}
      END - Palomino
    {%- endcomment -%}
    {{ content_for_header }}
  </head>

  <body>
    {%- comment -%}
      GTM-Datalayer
    {%- endcomment -%}
    {% render 'gtm-datalayer', action_step: 'body-init' %}
    {% if template.name == 'cart' %}
      {% render 'gtm-datalayer', action_step: 'view-cart' %}
    {% elsif template.name == 'product' %}
      {% render 'gtm-datalayer', action_step: 'view-item' %}
    {% endif %}
    {%- comment -%}
      END GTM
    {%- endcomment -%}

    {% sections 'header-group' %}

    <main role="main" tabindex="-1">
      {{ content_for_layout }}
    </main>

    {% section 'footer' %}

    {% render 'ra-login-modal' %}

    {{ 'main.js' | asset_url | script_tag }}

    {% unless template.name == 'cart' %}
      {% capture cart_settings %}{%- render 'cart-settings' -%}{% endcapture %}
      {% capture empty_cart_settings %}{%- render 'empty-cart-settings' -%}{% endcapture %}
      <div data-vue-root="CartInline">
        <cart-inline
          :settings="{{- cart_settings | escape | strip -}}"
          :empty-cart-settings="{{- empty_cart_settings | escape | strip -}}"
        />
      </div>
    {% endunless %}
  </body>
</html>
